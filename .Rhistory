predictIntro <- paste(predictIntro, specialCorpus$Sentence)
}
predictContent <- PredictDesc(interpreterPredict,vectorTrendDescriptionPredict,datasetWithoutDate)
predictResult <- paste(predictIntro, predictContent)
resumeResult <- PostProcessing(resumeResult)
currentResult <- PostProcessing(currentResult)
predictResult <- PostProcessing(predictResult)
print(resumeResult)
print(currentResult)
print(predictResult)
source("plot.R", local = TRUE)
print("---FINISH---")
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
# png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
# dev.off()
}
paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png")
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
dev.off()
}
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
# png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
# dev.off()
}
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
dev.off()
}
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
dev.off()
}
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
dev.off()
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
}
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
}
dev.off()
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
}
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
# png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
}
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
v
v
dev.off()
dev.off()
dev.off()
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
# png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
}
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
dev.off()
}
dev.off()
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
dev.off()
}
while (!is.null(dev.list()))  dev.off()
i<- 1
for(i in i:length(datasetNumericalWithoutDate)){
col <- names(datasetNumericalWithoutDate)[i]
x <- seq(1:nrow(dataset))
y <- dataset[[col]]
png(filename=paste0("Plot/",substr(filename, 1, nchar(filename)-2), i, col,".png"), width=500, height=500)
plot(main=col, xlab="Index", ylab="Value", y=y, x=x, type="l", lwd=1)
# regression
reg = lm(y~x)
abline(reg,col="yellow", lwd=2)
# increase
if(dfExtremeEvent$IncInterpreter[i] == "extreme"){
start <- dfExtremeEvent$IncStartIndex[i]
end <- dfExtremeEvent$IncEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="green", lwd=2)
}
# decrease
if(dfExtremeEvent$DecInterpreter[i] == "extreme"){
start <- dfExtremeEvent$DecStartIndex[i]
end <- dfExtremeEvent$DecEndIndex[i]
print(start)
print(end)
lines(x[start:end], y[start:end], col="red", lwd=2)
}
if(listRepeatedAnalysisResult[[i]]$RepValue != 0){
j <- 1
for(j in j:length(listRepeatedAnalysisResult[[i]]$Start)){
start <- listRepeatedAnalysisResult[[i]]$Start[j]
end <- listRepeatedAnalysisResult[[i]]$End[j]
lines(x[start:end], y[start:end], col="blue", lwd=2)
}
}
dev.off()
}
dev.cur()
dev.off(i)
dev.off(1)
sink()
sink(NULL)
dev.list()
dev.cur()
dev.off()
dev.off()
